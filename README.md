# Entity Framework Traits
Compose your entity with set of traits / features / behaviours without inheritance

# Purpose

The purpose of this library is to provide a way to compose your entity with set of traits / features / behaviours without inheritance. This is done by using interfaces and extension methods. This allows you to create a clean and maintainable codebase, while still being able to add new features to your entities easily.

According to https://en.wikipedia.org/wiki/Trait_(computer_programming): In computer programming, a trait is a language concept that represents a set of methods that can be used to extend the functionality of a class.

While traits are not a new concept, they are partially implemented in C# using interfaces and extension methods. This implementation have limitations of not providing the ability to extend the class with trait`s properties which are essential to entity definition in Entity Framework.

This library aims to provide a way to compose your entity with set of traits / features / behaviours without inheritance. This is done by using interfaces and code generation. This allows you to create a clean and maintainable codebase, while still being able to add new features to your entities easily.

# Example

### Step 1. Define your trait
```csharp
public interface ISoftDeletable
{
    public bool IsDeleted { get; set; }   
}

public static class EntityConfigurationExtensionISoftDeletable
{
    public static void ApplyTrait<TEntity, TSoftDeletable>(this EntityTypeBuilder<TEntity> modelBuilder) where TEntity : class, ISoftDeletable 
        where TSoftDeletable: ISoftDeletable
    {
        modelBuilder.Property(x => x.IsDeleted)
            .HasDefaultValue(false)
            .IsRequired();
    }
}
```

### Step 2. Make your entity to be a partial class

```csharp
public partial class MyEntity 
{
    // your entity definion here    
}
```

### Step 3. Add the trait to your entity thru entity configuration
```csharp
public class MyEntityConfigurationConfiguration
{    
    public void Configure(EntityTypeBuilder<MyEntity> builder)
    {
        builder.ToTable("MyEntity");
        
        builder.ApplyTrait<MyEntity, ISoftDeletable>();
        
        // rest of your entity configuration here
    }
}
```

The `ApplyTrait` method is both - adding the necessary configuration to the entity configuration and informs the code generator to copy the properties from the trait interface to the generated part of the entity class.

### Result

In the result you'll get generated partial class with the properties from the trait interface:

```csharp
// <auto-generated>
public partial class MyEntity : ISoftDeletable
{
    public bool System.IsDeleted { get; set; }
}
// </auto-generated>

```